# reAsaph

Asaph reborn in PHP7

## Framework

reAsaph uses librairies which have been mostly choosen for their performance and compliance 
with PSR standards :

- Slim 3.x -> a light framework 
- Propel 2.x -> a pre-generated ORM
- Plates 3.x -> a template engine 

## Build sources

The database classes are generated by Propel ORM.

```sh
# Will install all libraries
$ composer install
# Will build the models objects in src/orm
$ ./vendor/bin/propel build
```

## Install the database

First create a propel.yml file based on propel.yml.dist

Then you can migrate the database :

```sh
# Will create a php config file for the database in db/config/config.php from propel.yml
$ ./vendor/bin/propel convert-conf
# Will create a migration by comparing db/config/schema.xml with you configured database :
$ ./vendor/bin/propel diff
# Will migrate the database to the lastest version
$ ./vendor/bin/propel build
```

## Run a dev server

```bash
$ php -S 127.0.0.1:8000 app
```